/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package subcontractor;

import test_new.*;
import com.itextpdf.text.Paragraph;
import com.itextpdf.text.pdf.PdfWriter;
import java.sql.ResultSet;
import java.sql.Statement;
import java.util.Random;
import java.util.Vector;
import javax.swing.JFileChooser;
import javax.swing.JOptionPane;
import javax.swing.table.DefaultTableModel;
import javax.swing.text.Document;
import java.io.File;
import java.io.FileOutputStream;

/**
 *
 * @author westlifzzz
 */
public class register_subcon extends javax.swing.JInternalFrame {

    /**
     * Creates new form register_subcon
     */
    public register_subcon() {
        initComponents();
        
        loadbox();
        DefaultTableModel dtm = (DefaultTableModel) jTable1.getModel();
        dtm.setRowCount(0);
        tableload();
        
        DefaultTableModel dtm1 = (DefaultTableModel) jTable2.getModel();
        dtm1.setRowCount(0);
        tableload_specilizat();
        
        random();

        
        
        
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel2 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        jTextField5 = new javax.swing.JTextField();
        jLabel2 = new javax.swing.JLabel();
        jScrollPane3 = new javax.swing.JScrollPane();
        jTextArea2 = new javax.swing.JTextArea();
        jLabel3 = new javax.swing.JLabel();
        jTextField3 = new javax.swing.JTextField();
        jLabel4 = new javax.swing.JLabel();
        jTextField4 = new javax.swing.JTextField();
        jLabel5 = new javax.swing.JLabel();
        jTextField6 = new javax.swing.JTextField();
        jLabel11 = new javax.swing.JLabel();
        jTextField7 = new javax.swing.JTextField();
        jLabel6 = new javax.swing.JLabel();
        jLabel8 = new javax.swing.JLabel();
        jComboBox1 = new javax.swing.JComboBox();
        jLabel9 = new javax.swing.JLabel();
        jComboBox2 = new javax.swing.JComboBox();
        jLabel10 = new javax.swing.JLabel();
        jComboBox3 = new javax.swing.JComboBox();
        jLabel17 = new javax.swing.JLabel();
        jScrollPane2 = new javax.swing.JScrollPane();
        jTextArea1 = new javax.swing.JTextArea();
        jButton1 = new javax.swing.JButton();
        jButton2 = new javax.swing.JButton();
        jButton3 = new javax.swing.JButton();
        jPanel3 = new javax.swing.JPanel();
        jLabel18 = new javax.swing.JLabel();
        jLabel13 = new javax.swing.JLabel();
        jLabel20 = new javax.swing.JLabel();
        jTextField10 = new javax.swing.JTextField();
        jButton4 = new javax.swing.JButton();
        jScrollPane1 = new javax.swing.JScrollPane();
        jTable1 = new javax.swing.JTable();
        jPanel1 = new javax.swing.JPanel();
        jLabel15 = new javax.swing.JLabel();
        jTextField2 = new javax.swing.JTextField();
        jScrollPane4 = new javax.swing.JScrollPane();
        jTable2 = new javax.swing.JTable();
        jLabel21 = new javax.swing.JLabel();
        jTextField1 = new javax.swing.JTextField();
        jButton5 = new javax.swing.JButton();
        jLabel16 = new javax.swing.JLabel();
        jButton6 = new javax.swing.JButton();
        jButton7 = new javax.swing.JButton();

        setBorder(null);
        setPreferredSize(new java.awt.Dimension(1340, 620));
        getContentPane().setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jPanel2.setBackground(new java.awt.Color(255, 255, 255));
        jPanel2.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jLabel1.setText("First Name");
        jPanel2.add(jLabel1, new org.netbeans.lib.awtextra.AbsoluteConstraints(50, 80, -1, -1));

        jLabel7.setText("Last Name");
        jPanel2.add(jLabel7, new org.netbeans.lib.awtextra.AbsoluteConstraints(50, 110, 66, -1));

        jTextField5.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField5ActionPerformed(evt);
            }
        });
        jTextField5.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                jTextField5KeyPressed(evt);
            }
        });
        jPanel2.add(jTextField5, new org.netbeans.lib.awtextra.AbsoluteConstraints(180, 80, 200, -1));

        jLabel2.setText("Address");
        jPanel2.add(jLabel2, new org.netbeans.lib.awtextra.AbsoluteConstraints(50, 140, 90, -1));

        jTextArea2.setColumns(20);
        jTextArea2.setRows(5);
        jScrollPane3.setViewportView(jTextArea2);

        jPanel2.add(jScrollPane3, new org.netbeans.lib.awtextra.AbsoluteConstraints(180, 140, 200, 70));

        jLabel3.setText("NIC No");
        jPanel2.add(jLabel3, new org.netbeans.lib.awtextra.AbsoluteConstraints(50, 230, 90, -1));

        jTextField3.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTextField3FocusLost(evt);
            }
        });
        jPanel2.add(jTextField3, new org.netbeans.lib.awtextra.AbsoluteConstraints(180, 230, 200, -1));

        jLabel4.setText("Phone No");
        jPanel2.add(jLabel4, new org.netbeans.lib.awtextra.AbsoluteConstraints(50, 260, 66, -1));

        jTextField4.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTextField4FocusLost(evt);
            }
        });
        jTextField4.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField4ActionPerformed(evt);
            }
        });
        jTextField4.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                jTextField4KeyPressed(evt);
            }
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jTextField4KeyReleased(evt);
            }
            public void keyTyped(java.awt.event.KeyEvent evt) {
                jTextField4KeyTyped(evt);
            }
        });
        jPanel2.add(jTextField4, new org.netbeans.lib.awtextra.AbsoluteConstraints(180, 260, 200, -1));

        jLabel5.setText("Email Address");
        jPanel2.add(jLabel5, new org.netbeans.lib.awtextra.AbsoluteConstraints(50, 290, -1, -1));

        jTextField6.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTextField6FocusLost(evt);
            }
        });
        jTextField6.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                jTextField6KeyPressed(evt);
            }
        });
        jPanel2.add(jTextField6, new org.netbeans.lib.awtextra.AbsoluteConstraints(180, 290, 200, -1));

        jLabel11.setText("Account No");
        jPanel2.add(jLabel11, new org.netbeans.lib.awtextra.AbsoluteConstraints(50, 330, 82, -1));

        jTextField7.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField7ActionPerformed(evt);
            }
        });
        jTextField7.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                jTextField7KeyPressed(evt);
            }
        });
        jPanel2.add(jTextField7, new org.netbeans.lib.awtextra.AbsoluteConstraints(180, 330, 200, -1));

        jLabel6.setText("Specialization");
        jPanel2.add(jLabel6, new org.netbeans.lib.awtextra.AbsoluteConstraints(50, 370, 93, -1));

        jLabel8.setText("Option 1");
        jPanel2.add(jLabel8, new org.netbeans.lib.awtextra.AbsoluteConstraints(140, 370, 55, -1));

        jComboBox1.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "select" }));
        jComboBox1.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                jComboBox1ItemStateChanged(evt);
            }
        });
        jComboBox1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboBox1ActionPerformed(evt);
            }
        });
        jComboBox1.addPropertyChangeListener(new java.beans.PropertyChangeListener() {
            public void propertyChange(java.beans.PropertyChangeEvent evt) {
                jComboBox1PropertyChange(evt);
            }
        });
        jPanel2.add(jComboBox1, new org.netbeans.lib.awtextra.AbsoluteConstraints(210, 370, 170, -1));

        jLabel9.setText("Option 2");
        jPanel2.add(jLabel9, new org.netbeans.lib.awtextra.AbsoluteConstraints(140, 400, 55, -1));

        jComboBox2.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "select" }));
        jComboBox2.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                jComboBox2ItemStateChanged(evt);
            }
        });
        jComboBox2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboBox2ActionPerformed(evt);
            }
        });
        jPanel2.add(jComboBox2, new org.netbeans.lib.awtextra.AbsoluteConstraints(210, 400, 170, -1));

        jLabel10.setText("Option 3");
        jPanel2.add(jLabel10, new org.netbeans.lib.awtextra.AbsoluteConstraints(140, 430, 55, -1));

        jComboBox3.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "select" }));
        jComboBox3.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                jComboBox3ItemStateChanged(evt);
            }
        });
        jComboBox3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboBox3ActionPerformed(evt);
            }
        });
        jPanel2.add(jComboBox3, new org.netbeans.lib.awtextra.AbsoluteConstraints(210, 430, 170, -1));

        jLabel17.setText("Qulification");
        jPanel2.add(jLabel17, new org.netbeans.lib.awtextra.AbsoluteConstraints(50, 470, 82, -1));

        jTextArea1.setColumns(20);
        jTextArea1.setRows(5);
        jScrollPane2.setViewportView(jTextArea1);

        jPanel2.add(jScrollPane2, new org.netbeans.lib.awtextra.AbsoluteConstraints(180, 470, 200, 100));

        jButton1.setText("Add");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });
        jPanel2.add(jButton1, new org.netbeans.lib.awtextra.AbsoluteConstraints(480, 550, 140, 30));

        jButton2.setText("Update");
        jButton2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton2ActionPerformed(evt);
            }
        });
        jPanel2.add(jButton2, new org.netbeans.lib.awtextra.AbsoluteConstraints(650, 550, 140, 30));

        jButton3.setText("Delete");
        jButton3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton3ActionPerformed(evt);
            }
        });
        jPanel2.add(jButton3, new org.netbeans.lib.awtextra.AbsoluteConstraints(820, 550, 140, 30));

        jPanel3.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jLabel18.setText("Search Subcontractor Details");
        jPanel3.add(jLabel18, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 0, 175, 30));

        jPanel2.add(jPanel3, new org.netbeans.lib.awtextra.AbsoluteConstraints(480, 80, 860, 30));

        jLabel13.setText("SC  ID");
        jPanel2.add(jLabel13, new org.netbeans.lib.awtextra.AbsoluteConstraints(530, 50, 40, -1));

        jLabel20.setText(" Search by SC ID");
        jPanel2.add(jLabel20, new org.netbeans.lib.awtextra.AbsoluteConstraints(520, 130, 100, -1));

        jTextField10.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField10ActionPerformed(evt);
            }
        });
        jPanel2.add(jTextField10, new org.netbeans.lib.awtextra.AbsoluteConstraints(640, 130, 200, -1));

        jButton4.setText("Search");
        jButton4.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton4ActionPerformed(evt);
            }
        });
        jPanel2.add(jButton4, new org.netbeans.lib.awtextra.AbsoluteConstraints(870, 120, 140, 30));

        jTable1.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Sub ID", "First_Name", "Last_name", "Address", "NIC", "Phone_no", "Email", "Acc_no", "Sp_op1", "So_op2", "Sp_op3", "Qulification"
            }
        ));
        jTable1.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jTable1MouseClicked(evt);
            }
        });
        jScrollPane1.setViewportView(jTable1);

        jPanel2.add(jScrollPane1, new org.netbeans.lib.awtextra.AbsoluteConstraints(480, 180, 830, 120));

        jPanel1.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jLabel15.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel15.setText("Register Sub-Contractor");
        jPanel1.add(jLabel15, new org.netbeans.lib.awtextra.AbsoluteConstraints(315, -1, 340, 40));

        jPanel2.add(jPanel1, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 0, 1340, 40));

        jTextField2.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTextField2FocusLost(evt);
            }
        });
        jTextField2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField2ActionPerformed(evt);
            }
        });
        jTextField2.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                jTextField2KeyPressed(evt);
            }
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jTextField2KeyReleased(evt);
            }
        });
        jPanel2.add(jTextField2, new org.netbeans.lib.awtextra.AbsoluteConstraints(180, 110, 200, -1));

        jTable2.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Specialization "
            }
        ));
        jTable2.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jTable2MouseClicked(evt);
            }
        });
        jScrollPane4.setViewportView(jTable2);

        jPanel2.add(jScrollPane4, new org.netbeans.lib.awtextra.AbsoluteConstraints(480, 380, 370, 140));

        jLabel21.setText("Add New Specialization Field");
        jPanel2.add(jLabel21, new org.netbeans.lib.awtextra.AbsoluteConstraints(480, 320, 170, 30));

        jTextField1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField1ActionPerformed(evt);
            }
        });
        jPanel2.add(jTextField1, new org.netbeans.lib.awtextra.AbsoluteConstraints(640, 330, 200, 20));

        jButton5.setText("Add");
        jButton5.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton5ActionPerformed(evt);
            }
        });
        jPanel2.add(jButton5, new org.netbeans.lib.awtextra.AbsoluteConstraints(870, 320, 140, 30));
        jPanel2.add(jLabel16, new org.netbeans.lib.awtextra.AbsoluteConstraints(640, 50, 190, 20));

        jButton6.setText("Delete");
        jButton6.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton6ActionPerformed(evt);
            }
        });
        jPanel2.add(jButton6, new org.netbeans.lib.awtextra.AbsoluteConstraints(1050, 320, 140, 30));

        jButton7.setText("Report");
        jButton7.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton7ActionPerformed(evt);
            }
        });
        jPanel2.add(jButton7, new org.netbeans.lib.awtextra.AbsoluteConstraints(990, 550, 140, 30));

        getContentPane().add(jPanel2, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 0, 1340, 620));

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void jTextField4ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextField4ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextField4ActionPerformed

    private void jTextField7ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextField7ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextField7ActionPerformed

    private void jComboBox1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBox1ActionPerformed
//    jComboBox1.removeAllItems();
//        jComboBox2.removeAllItems();
//    jComboBox3.removeAllItems();
//     
//     String s=jComboBox1.getSelectedItem().toString();
//        
//            try {
//          Statement st= db.getConnection().createStatement();
//           ResultSet ss =st.executeQuery("SELECT * FROM specilizat_sub_cont where Options ='"+s+"'");
//               
//          
//            while(ss.next())
//            {
//                String ll=ss.getString(3);
//             if(ll.equals(s))
//             {
//             System.out.println("654");
//             }
//             else{
//                 jComboBox1.addItem(ll);
//                 jComboBox2.addItem(ll);
//                 jComboBox3.addItem(ll);
//             }
//                
//            }
//                
//        } catch (Exception e) {
//            e.printStackTrace();
//        }
//    
//        
        
        
    }//GEN-LAST:event_jComboBox1ActionPerformed

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
    
        String scid=jLabel16.getText();
        int a=Integer.parseInt(scid);
        if(duplicatesReg()){
            return;
        }
//       String scid=jLabel16.getText();
//       int a=Integer.parseInt(scid);
       
       String fname=jTextField5.getText();
       String lname=jTextField2.getText();
       String Add=jTextArea2.getText();
       String nic=jTextField3.getText();
       String tel_no=jTextField4.getText();
       String email=jTextField6.getText();
       
       String Acc_no=jTextField7.getText();
       
       String sp_op1=jComboBox1.getSelectedItem().toString();
       String sp_op2=jComboBox2.getSelectedItem().toString();
       String sp_op3=jComboBox3.getSelectedItem().toString();
       String qulif=jTextArea1.getText();
       
       
       String eml="^[_A-Za-z0-9-\\+]+(\\.[_A-Za-z0-9-]+)*@"
		+ "[A-Za-z0-9-]+(\\.[A-Za-z0-9]+)*(\\.[A-Za-z]{2,})$";
       
       
         
          if (fname.isEmpty()) 
                     JOptionPane.showMessageDialog(null,"Enter the Sub contractor First Name");
          
          else if (lname.isEmpty()) 
                     JOptionPane.showMessageDialog(null,"Enter the Sub contractor Last Name");
          
          else if (Add.isEmpty()) 
                     JOptionPane.showMessageDialog(null,"Enter the Sub contractor Address");
               
            else if((tel_no.length()!=10))
                     JOptionPane.showMessageDialog(this, "Invalid Mobile number (Mobile number must be 10 digit)");
              
         else if (!email.matches(eml))
                   JOptionPane.showMessageDialog(null,"Invalid Email(Email must be contained '@' & '.' symbols)"); 
         
             
      else{
           try {          
               Statement st=db.getConnection().createStatement();
       st.executeUpdate("insert into sub_contract_register(Sub_contr_reg,First_name,Last_name,Address,Nic,Phone_no,Email,Account_no,sp_op1,sp_op2,sp_op3,Qualification) values('"+a+"','"+fname+"','"+lname+"','"+Add+"','"+nic+"','"+tel_no+"','"+email+"','"+Acc_no+"','"+sp_op1+"','"+sp_op2+"','"+sp_op3+"','"+qulif+"')");       
       JOptionPane.showMessageDialog(null, "Successfully Saved.. ");
       
       
           jLabel16.setText(null);
           jTextField5.setText(null);
           jTextField2.setText(null);
           jTextField6.setText(null);
           jTextArea2.setText(null);
           jTextField3.setText(null);
           jTextField4.setText(null);
           jTextField6.setText(null);
           jTextField7.setText(null);
           jTextArea1.setText(null);
           jComboBox1.removeAll();
           jComboBox2.removeAll();
           jComboBox3.removeAll();
           loadbox();
           
           jComboBox1.setSelectedItem("select");
           jComboBox2.setSelectedItem("select");
           jComboBox3.setSelectedItem("select");
           
           random();
           
           
           
           
        
//         jComboBox1.setSelectedItem("select");
//           
//         jComboBox2.setSelectedItem("select");
//           
//         jComboBox3.setSelectedItem("select");
          
           
//          jComboBox1.setSelectedIndex(0);
//          jComboBox2.setSelectedIndex(0);
//          jComboBox3.setSelectedIndex(0);
//     
           
           
           
       
       
       
        } catch (Exception e) {
            e.printStackTrace();
        }
        DefaultTableModel dtm = (DefaultTableModel) jTable1.getModel();
        dtm.setRowCount(0);
        tableload(); 
           
     //    DefaultTableModel dtm = (DefaultTableModel) jTable1.getModel();
     //   dtm.setRowCount(0);
     //   tableload();
        
     }   
      
        
    }//GEN-LAST:event_jButton1ActionPerformed

    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton2ActionPerformed
         
         String sub_id=jLabel16.getText();
         String f_name=jTextField5.getText();
         String l_name=jTextField2.getText();
         String address=jTextArea2.getText();
         String nic=jTextField3.getText();
         String phn_no=jTextField4.getText();
         String email=jTextField6.getText();
         String acc_no=jTextField7.getText();
         String qulif=jTextArea1.getText();
         String sp_op1=jComboBox1.getSelectedItem().toString();
         String sp_op2=jComboBox2.getSelectedItem().toString();
         String sp_op3=jComboBox3.getSelectedItem().toString();
         
         String eml="^[_A-Za-z0-9-\\+]+(\\.[_A-Za-z0-9-]+)*@"
		+ "[A-Za-z0-9-]+(\\.[A-Za-z0-9]+)*(\\.[A-Za-z]{2,})$";
         
         if (f_name.isEmpty()) 
                     JOptionPane.showMessageDialog(null,"Enter the Customer First Name");
          
          else if (l_name.isEmpty()) 
                     JOptionPane.showMessageDialog(null,"Enter the Customer Last Name");
          
          else if (address.isEmpty()) 
                     JOptionPane.showMessageDialog(null,"Enter the Customer Address");
               
            else if((phn_no.length()!=10))
                     JOptionPane.showMessageDialog(this, "Invalid Mobile number (Mobile number must be 10 digit)");
              
         else if (!email.matches(eml))
                   JOptionPane.showMessageDialog(null,"Invalid Email(Email must be contained '@' & '.' symbols)"); 
         
             
      else{
         
         
         try {
            
             Statement st= db.getConnection().createStatement();
            st.executeUpdate("update sub_contract_register set First_name='"+f_name+"',Last_name='"+l_name+"',Address='"+address+"',Nic='"+nic+"',Phone_no='"+phn_no+"',Email='"+email+"',Account_no='"+acc_no+"',sp_op1='"+sp_op1+"',sp_op2='"+sp_op2+"',sp_op3='"+sp_op3+"',Qualification='"+qulif+"' where Sub_contr_reg='"+sub_id+"'");
             JOptionPane.showMessageDialog(null,"Successfuly updated","Success Message",JOptionPane.INFORMATION_MESSAGE);
            
             DefaultTableModel dtm = (DefaultTableModel) jTable1.getModel();
             dtm.setRowCount(0);
             tableload();
        
        
           jLabel16.setText(null);
           jTextField2.setText(null);
           jTextField5.setText(null);
           jTextField6.setText(null);
           jTextArea2.setText(null);
           jTextField3.setText(null);
           jTextField4.setText(null);
           jTextField6.setText(null);
           jTextField7.setText(null);
           jTextArea1.setText(null);
           random();
           
       //    jComboBox1.setSelectedItem("select");
           
           
         // jComboBox2.setSelectedItem("select2");
         // jComboBox2.setSelectedIndex(0);
      //    jComboBox2.setSelectedItem("select");
     //     jComboBox3.setSelectedItem("select");
     
           jComboBox1.removeAll();
           jComboBox2.removeAll();
           jComboBox3.removeAll();
            loadbox();
            jComboBox1.setSelectedItem("select");
           
           jComboBox2.setSelectedItem("select");
           
           jComboBox3.setSelectedItem("select");
          
            
//          jComboBox1.setSelectedIndex(0);
//          jComboBox2.setSelectedIndex(0);
//          jComboBox3.setSelectedIndex(0);
          
       
           
             
        } catch (Exception e) {
            e.printStackTrace();
        }
      }   
    }//GEN-LAST:event_jButton2ActionPerformed

    private void jTextField10ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextField10ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextField10ActionPerformed

    private void jButton4ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton4ActionPerformed

        String sub_id=jTextField10.getText();
        if(sub_id.equals("") || sub_id.equals(null)){
           JOptionPane.showMessageDialog(null,"Please Enter the Sub Contractor ID","Error in Sub_id",JOptionPane.ERROR_MESSAGE);
           return;
       }
           DefaultTableModel dtm = (DefaultTableModel) jTable1.getModel();
            dtm.setRowCount(0);
           tableload_search(sub_id); 

        jTextField10.setText(null);
        
    }//GEN-LAST:event_jButton4ActionPerformed

    private void jTextField2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextField2ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextField2ActionPerformed

    private void jTextField1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextField1ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextField1ActionPerformed

    private void jButton5ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton5ActionPerformed
      
        
        String spc = jTextField1.getText();
        try {
            db.getConnection().createStatement().executeUpdate("insert into specilizat_sub_cont(Options)values ('"+spc+"')");
            JOptionPane.showMessageDialog(null,"Successfuly added","Success Message",JOptionPane.INFORMATION_MESSAGE);
            
            DefaultTableModel dtm = (DefaultTableModel) jTable2.getModel();
        dtm.setRowCount(0);
        tableload_specilizat();
        
        
        
            try {
          Statement st= db.getConnection().createStatement();
           ResultSet ss =st.executeQuery("SELECT * FROM specilizat_sub_cont");
               
          
            while(ss.next())
            {
                String ll=ss.getString(3);
          
                jComboBox1.addItem(ll);
                
             
            }
                
        } catch (Exception e) {
            e.printStackTrace();
        }
        
        
        
        
        } catch (Exception e) {
            e.printStackTrace();
        }
        loadbox();
        jTextField1.setText(null);
        random();
    }//GEN-LAST:event_jButton5ActionPerformed

    private void jTable1MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jTable1MouseClicked
        
        int r =jTable1.getSelectedRow();
        
        jLabel16.setText(jTable1.getValueAt(r, 0).toString());
        jTextField5.setText(jTable1.getValueAt(r,1).toString());
       jTextField2.setText(jTable1.getValueAt(r,2).toString());
        jTextArea2.setText(jTable1.getValueAt(r,3).toString());
        jTextField3.setText(jTable1.getValueAt(r,4).toString());
        jTextField4.setText(jTable1.getValueAt(r,5).toString());
        jTextField6.setText(jTable1.getValueAt(r,6).toString());
        jTextField7.setText(jTable1.getValueAt(r,7).toString());
        int st1=jTable1.getSelectedRow();
        jComboBox1.setSelectedItem(jTable1.getValueAt(st1, 8));
        int st2=jTable1.getSelectedRow();
        jComboBox2.setSelectedItem(jTable1.getValueAt(st2, 9));
        int st3=jTable1.getSelectedRow();
        jComboBox3.setSelectedItem(jTable1.getValueAt(st3, 10));
//        jComboBox1.setSelectedItem(jTable1.getValueAt(r, 8));
//        jComboBox2.setSelectedItem(jTable1.getValueAt(r, 9));
//        jComboBox3.setSelectedItem(jTable1.getValueAt(r, 10));
        jTextArea1.setText(jTable1.getValueAt(r,11).toString());
        
        
        
    }//GEN-LAST:event_jTable1MouseClicked

    private void jButton3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton3ActionPerformed
        
        String sub_id = jLabel16.getText();
        if(sub_id.equals("")|| sub_id.equals(null)){
            JOptionPane.showMessageDialog(null, "Please enter the Sub Contractor","Error in Sub_id", JOptionPane.ERROR_MESSAGE);
            return;
        }
        
        int x=JOptionPane.showConfirmDialog(null, "Do you want to delete this");
       
       if(x==0){
       
           try {
               com.mysql.jdbc.Statement st= (com.mysql.jdbc.Statement) db.getConnection().createStatement();
               st.executeUpdate("DELETE from sub_contract_register where Sub_contr_reg='"+sub_id+"'");
           
           jLabel16.setText(null);
           jTextField5.setText(null);
           jTextField2.setText(null);
           jTextArea2.setText(null);
           jTextField3.setText(null);
           jTextField4.setText(null);
           jTextField6.setText(null);
           jTextField7.setText(null);
           
           jTextArea1.setText(null);
           
           random();
           
           DefaultTableModel dtm = (DefaultTableModel) jTable1.getModel();
           dtm.setRowCount(0);
           tableload();
           jComboBox1.removeAll();
           jComboBox2.removeAll();
           jComboBox3.removeAll();
           loadbox();
           
           jComboBox1.setSelectedItem("select");
           jComboBox2.setSelectedItem("select");
           jComboBox3.setSelectedItem("select");
           
           
           } catch (Exception e) {
               e.printStackTrace();
               
           
           
           
           }
           
       }
       DefaultTableModel dtm = (DefaultTableModel) jTable1.getModel();
           dtm.setRowCount(0);
           tableload();
           
           
       
        
    }//GEN-LAST:event_jButton3ActionPerformed

    private void jComboBox2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBox2ActionPerformed
//      jComboBox1.removeAll();
//     jComboBox3.removeAll();        
//        String s=jComboBox2.getSelectedItem().toString();
//            try {
//          Statement st= db.getConnection().createStatement();
//           ResultSet ss =st.executeQuery("SELECT * FROM specilizat_sub_cont");
//               
//          
//            while(ss.next())
//            {
//                String ll=ss.getString(3);
//                if(s.equals(ll)){
//                break;
//                }else{
//                
//                jComboBox1.addItem(ll);
//              //  jComboBox2.addItem(ll);
//                jComboBox3.addItem(ll);
//                }
//            }
//                
//        } catch (Exception e) {
//            e.printStackTrace();
//        }
    }//GEN-LAST:event_jComboBox2ActionPerformed

    private void jComboBox3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBox3ActionPerformed
//          
//        jComboBox1.removeAll();
//          jComboBox2.removeAll();
//        String s=jComboBox3.getSelectedItem().toString();
//            try {
//          Statement st= db.getConnection().createStatement();
//           ResultSet ss =st.executeQuery("SELECT * FROM specilizat_sub_cont");
//               
//          
//            while(ss.next())
//            {
//                String ll=ss.getString(3);
//                if(s.equals(ll)){
//                break;
//                }else{
//                
//                jComboBox1.addItem(ll);
//                jComboBox2.addItem(ll);
//              //  jComboBox3.addItem(ll);
//                }
//            }
//                
//        } catch (Exception e) {
//            e.printStackTrace();
//        }
    }//GEN-LAST:event_jComboBox3ActionPerformed

    private void jTextField5KeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextField5KeyPressed
 char c = evt.getKeyChar();
    if (!(Character.isDigit(c))) {
        
    } else {
        JOptionPane.showMessageDialog(null,"Enter only Characters");
        
      
    }                
    }//GEN-LAST:event_jTextField5KeyPressed

    private void jComboBox1ItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_jComboBox1ItemStateChanged
       
        
        String c1 = jComboBox1.getSelectedItem().toString();
        
        jComboBox2.removeItem(c1);
        jComboBox3.removeItem(c1);
    }//GEN-LAST:event_jComboBox1ItemStateChanged

    private void jComboBox2ItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_jComboBox2ItemStateChanged
        
        
        String c1 = jComboBox2.getSelectedItem().toString();
        
        jComboBox1.removeItem(c1);
        jComboBox3.removeItem(c1);
    }//GEN-LAST:event_jComboBox2ItemStateChanged

    private void jComboBox3ItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_jComboBox3ItemStateChanged
        
       
        
        String c1 = jComboBox3.getSelectedItem().toString();
        
        jComboBox2.removeItem(c1);
        jComboBox1.removeItem(c1);
    }//GEN-LAST:event_jComboBox3ItemStateChanged

    private void jTextField5ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextField5ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextField5ActionPerformed

    private void jTextField2KeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextField2KeyReleased
        
    }//GEN-LAST:event_jTextField2KeyReleased

    private void jTextField2KeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextField2KeyPressed
        
        char c = evt.getKeyChar();
    if (!(Character.isDigit(c))) {
        
    } else {
        JOptionPane.showMessageDialog(null,"Enter only Characters");
    }//GEN-LAST:event_jTextField2KeyPressed
    }
    private void jTextField4KeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextField4KeyPressed
        
        char c = evt.getKeyChar();
    if (Character.isDigit(c)) {
        
    } else {
        JOptionPane.showMessageDialog(null,"Enter only Digit");
        
      
    }
   
  
       
    }//GEN-LAST:event_jTextField4KeyPressed
    
    private void jTextField3FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTextField3FocusLost
        
        String checkNIC = jTextField3.getText();
        
       
         
         for(int i=0; i<checkNIC.length(); i++)
       {
           char c = checkNIC.charAt(i);
           if(checkNIC.length()<10)
           {
               
                 if(Character.isDigit(c))
                 {
                     
                 }
               
                 else if(Character.isLetter(c))
                 {
                     
                     JOptionPane.showMessageDialog(this, "Enter a valid NIC number" , "ERROR" , 0);
                     String h = checkNIC.substring(0, (checkNIC.length()-1));
                     jTextField3.setText(h);
                 }
                
                else
                 {
                     
                     JOptionPane.showMessageDialog(this, "cannot have Special Characters" , "ERROR" , 0);
                     String h = checkNIC.substring(0, (checkNIC.length()-1));
                     jTextField3.setText(h);
                 }
                
                
           }
       }
           if(checkNIC.length()==10)
           {
               
                char cc = checkNIC.charAt(9);
                if(Character.isDigit(cc))
                {
                    JOptionPane.showMessageDialog(this, "Enter a valid NIC number" , "ERROR" , 0);
                    String h = checkNIC.substring(0, (checkNIC.length()-1));
                    jTextField3.setText(h);
                }
           
                else if( cc =='V' || cc=='v')
                {
                
                }
                
                else
                {
                    JOptionPane.showMessageDialog(this, "Enter a valid NIC number" , "ERROR" , 0);
                    String h = checkNIC.substring(0, (checkNIC.length()-1));
                    jTextField3.setText(h);
                
                }
           }
           
           else if(checkNIC.length()>10)
                {
                    JOptionPane.showMessageDialog(this, "exceeded" , "ERROR" , 0);
                    String h = checkNIC.substring(0, (checkNIC.length()-1));
                    jTextField3.setText(h);
                
                }  
    }//GEN-LAST:event_jTextField3FocusLost

    private void jButton6ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton6ActionPerformed
        
        String spei_no = jTextField1.getText();
        if(spei_no.equals("")|| spei_no.equals(null)){
            JOptionPane.showMessageDialog(null, "Please enter the Special_field","Error in spei_no", JOptionPane.ERROR_MESSAGE);
            return;
        }
        
        int x=JOptionPane.showConfirmDialog(null, "Do you want to delete this");
       
       if(x==0){
       
           try {
               com.mysql.jdbc.Statement st= (com.mysql.jdbc.Statement) db.getConnection().createStatement();
               st.executeUpdate("DELETE from specilizat_sub_cont where Options='"+spei_no+"'");
           } catch (Exception e) {
               e.printStackTrace();
           }
           
           random();
           
    }//GEN-LAST:event_jButton6ActionPerformed
    DefaultTableModel dtm1 = (DefaultTableModel) jTable2.getModel();
        dtm1.setRowCount(0);
        tableload_specilizat();
        
        jTextField1.setText(null);
    
    }
    private void jTable2MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jTable2MouseClicked
        
        int r =jTable2.getSelectedRow();
        
        jTextField1.setText(jTable2.getValueAt(r,0).toString());
        
        
        
    }//GEN-LAST:event_jTable2MouseClicked

    private void jTextField6FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTextField6FocusLost
        
       


    }//GEN-LAST:event_jTextField6FocusLost

    private void jTextField4FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTextField4FocusLost
        
      
    
       
                
    }//GEN-LAST:event_jTextField4FocusLost

    private void jTextField2FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTextField2FocusLost
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextField2FocusLost

    private void jTextField4KeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextField4KeyTyped
                
    }//GEN-LAST:event_jTextField4KeyTyped

    private void jTextField4KeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextField4KeyReleased
                     
        
      
    
    }//GEN-LAST:event_jTextField4KeyReleased

    private void jTextField6KeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextField6KeyPressed
        
    }//GEN-LAST:event_jTextField6KeyPressed

    private void jTextField7KeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextField7KeyPressed
       
        char c = evt.getKeyChar();
    if (Character.isDigit(c)) {
        
    } else {
        JOptionPane.showMessageDialog(null,"Enter only Digit");
        
      
    }
    }//GEN-LAST:event_jTextField7KeyPressed

    private void jComboBox1PropertyChange(java.beans.PropertyChangeEvent evt) {//GEN-FIRST:event_jComboBox1PropertyChange
        
    }//GEN-LAST:event_jComboBox1PropertyChange

    private void jButton7ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton7ActionPerformed
        
        
    }//GEN-LAST:event_jButton7ActionPerformed
       
    
  //      DefaultTableModel dtm1 = (DefaultTableModel) jTable2.getModel();
    
   //     dtm1.setRowCount(0);
    //    tableload_specilizat();
    
   

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton2;
    private javax.swing.JButton jButton3;
    private javax.swing.JButton jButton4;
    private javax.swing.JButton jButton5;
    private javax.swing.JButton jButton6;
    private javax.swing.JButton jButton7;
    private javax.swing.JComboBox jComboBox1;
    private javax.swing.JComboBox jComboBox2;
    private javax.swing.JComboBox jComboBox3;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel21;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JScrollPane jScrollPane4;
    private javax.swing.JTable jTable1;
    private javax.swing.JTable jTable2;
    private javax.swing.JTextArea jTextArea1;
    private javax.swing.JTextArea jTextArea2;
    private javax.swing.JTextField jTextField1;
    private javax.swing.JTextField jTextField10;
    private javax.swing.JTextField jTextField2;
    private javax.swing.JTextField jTextField3;
    private javax.swing.JTextField jTextField4;
    private javax.swing.JTextField jTextField5;
    private javax.swing.JTextField jTextField6;
    private javax.swing.JTextField jTextField7;
    // End of variables declaration//GEN-END:variables
 private String chooseFile() {
       JFileChooser chooser = new JFileChooser();
        chooser.showOpenDialog(null);
        File f = chooser.getSelectedFile();
        String filename =f.getAbsolutePath();
        return filename;
    }

  //  private void tableload() {
  //      throw new UnsupportedOperationException("Not supported yet."); //To change body of generated methods, choose Tools | Templates.
  //  }
    
    public void loadbox(){
          
    
//    jComboBox1.removeAll();
//    jComboBox2.removeAll();
//    jComboBox3.removeAll();
            try {
              
          Statement st= db.getConnection().createStatement();
           ResultSet ss =st.executeQuery("SELECT * FROM specilizat_sub_cont");
               
          
            while(ss.next())
            {
                
                String d=ss.getString(3);
                jComboBox1.addItem(d);
                jComboBox2.addItem(d);
                jComboBox3.addItem(d);
                
            }
                
        } catch (Exception e) {
            e.printStackTrace();
        }
    
    
    }
    
    
    
     public void tableload() {
   
            DefaultTableModel dtm = (DefaultTableModel) jTable1.getModel();
            
            try {
                
               ResultSet rs= db.getConnection().createStatement().executeQuery("select * from sub_contract_register");
               
               while(rs.next()){
                Vector v = new Vector();
                v.add(rs.getString("Sub_contr_reg"));
                v.add(rs.getString("First_name"));
                v.add(rs.getString("Last_name"));
                v.add(rs.getString("Address"));
                v.add(rs.getString("Nic"));
                v.add(rs.getString("Phone_no"));
                v.add(rs.getString("Email"));
                v.add(rs.getString("Account_no"));
                v.add(rs.getString("sp_op1"));
                v.add(rs.getString("sp_op2"));
                v.add(rs.getString("sp_op3"));
                v.add(rs.getString("Qualification"));
                
             dtm.addRow(v);
               
              
               }
                
        } catch (Exception e) {
            e.printStackTrace();
        }
            
     }
    public void tableload_search(String sub_id){
    
    DefaultTableModel dtm = (DefaultTableModel) jTable1.getModel();
        try {
           ResultSet rs= db.getConnection().createStatement().executeQuery("select * from sub_contract_register where Sub_contr_reg Like'%"+sub_id+"%'");
              
           while(rs.next()){  
                
              Vector v = new Vector();
                v.add(rs.getString("Sub_contr_reg"));
                v.add(rs.getString("First_name"));
                v.add(rs.getString("Last_name"));
                v.add(rs.getString("Address"));
                v.add(rs.getString("Nic"));
                v.add(rs.getString("Phone_no"));
                v.add(rs.getString("Email"));
                v.add(rs.getString("Account_no"));
                v.add(rs.getString("sp_op1"));
                v.add(rs.getString("sp_op2"));
                v.add(rs.getString("sp_op3"));
                v.add(rs.getString("Qualification"));
            
            dtm.addRow(v);

              
              }
        
        }catch(Exception e){
            e.printStackTrace();
        }
}
     
     public void tableload_specilizat() {
   
            DefaultTableModel dtm = (DefaultTableModel) jTable2.getModel();
            
            try {
                
               ResultSet rs= db.getConnection().createStatement().executeQuery("select * from specilizat_sub_cont");
               
               while(rs.next()){
                Vector v = new Vector();
                v.add(rs.getString("Options"));
                
             
                 dtm.addRow(v);
               
              
               }
                
        } catch (Exception e) {
            e.printStackTrace();
        }
            
     }
     
     public void random()
     {
        Random r = new Random();
        int n= r.nextInt(520)+7;
        jLabel16.setText(n+"");
     }
     
     private boolean duplicatesReg() {
        String agr_no = jLabel16.getText();
        int i=0;
        try {
            
            ResultSet rs= db.getConnection().createStatement().executeQuery("select Sub_contr_reg from sub_contract_register");
            while (rs.next()){
            String ag_no =  rs.getString("Sub_contr_reg");
            if(ag_no.equals(agr_no)){
                i=i+1;
            }
            }
            
           
        } catch (Exception e) {
        }
         if(i==1){
             JOptionPane.showMessageDialog(null,"You have already Added this Sub_ID only you can Update Now");
             return true;
            }else{
             return false;
         }
    }
    
//    public void loadsearch() {
//        
//    String id= jTextField10.getText();
//            jComboBox1.removeAllItems();
//            
//            try {
//                ResultSet rs=   db.getConnection().createStatement().executeQuery("select * from  where Sub_contr_reg ='"+id+"'");
//     
//                while(rs.next()){
//                   jTextField5.setText(rs.getString("First_name"));
//                   jTextField2.setText(rs.getString("Last_name"));
//                   jTextArea2.setText(rs.getString("Address"));
//                   jTextField3.setText(rs.getString("Nic"));
//                   jTextField4.setText(rs.getString("Phone_no"));
//                   jTextField6.setText(rs.getString("Email"));
//                   jTextField7.setText(rs.getString("Account_no"));
//                   jTextArea1.setText(rs.getString("Qualification"));
//                  jTextField8.setText(rs.getString("No_of_labours"));
//                  
//                } 
//                     
//          } 
//            catch (Exception e) {
//                e.printStackTrace();
//            }
            
            
            
        
     

     
//       
//     
     
     }
     
     
   

  

